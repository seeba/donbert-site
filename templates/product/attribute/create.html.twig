{% extends 'admin_base.html.twig' %}
{% block stylesheets %}
    {{ parent() }}

    <link rel="stylesheet" href="{{ asset('admin/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css')}}">
{% endblock %}
{% block content %}
    <div class="row">
        <div class="col-12 col-xl-6">
            <div class="card">
                <div class="card-header">

                </div>
                {{ form_start(form) }}
                <div class="card-body">
{#                     
                    <div class="form-group"> 
                        {{ form_label(form.name) }}
                        {{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    {% for category in form.categoriesIds %}
                        <div class="form-check"> 
                        
                        {{ form_widget(category, {'attr': {'class': 'form-check-input'}}) }}
                        {{ form_label(category, null, {'label_attr': {'class': 'form-check-label'}}) }}
                    </div>
                        
                    {% endfor %} #}
                    
                    <div class="form-group">
                        {{ form_label(form.type) }}
                        {{ form_widget(form.type, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    {% if form.name is defined %}
                        <div class="form-group">
                            {{ form_label(form.name) }}
                            {{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}
                        </div>
                    {% endif %}

                    {% if form.thickness is defined %}
                        <div class="form-group">
                            {{ form_label(form.thickness) }}
                            {{ form_widget(form.thickness, {'attr': {'class': 'form-control'}}) }}
                        </div>
                    {% endif %}

                    {% if form.quantity_per_roll is defined %}
                        <div class="form-group">
                            {{ form_label(form.quantity_per_roll) }}
                            {{ form_widget(form.quantity_per_roll, {'attr': {'class': 'form-control'}}) }}
                        </div>
                    {% endif %}

                    {% if form.color is defined %}
                    
                        <div class="form-group">
                            {{ form_label(form.color) }}
                            <div class="input-group my-colorpicker2">
                                
                                {{ form_widget(form.color, {'attr': {'class': 'form-control'}}) }}

                            <div class="input-group-append">
                                <span class="input-group-text"><i class="fas fa-square"></i></span>
                            </div>
                        </div>
                
                        
                    {% endif %}
                    {% if form.width is defined %}
                    <div class="form-group">
                        {{ form_label(form.width) }}
                        {{ form_widget(form.width, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    {% endif %}
                    {% if form.height is defined %}
                    <div class="form-group">
                        {{ form_label(form.height) }}
                        {{ form_widget(form.height, {'attr': {'class': 'form-control'}}) }}    
                        </div>
                    {% endif %}
                    </div>

                    
                </div>
                <div class="card-footer">
                    {{ form_widget(form.submit, {'attr': {'class': 'btn btn-primary'}}) }}
                </div>
                
                {{ form_end(form) }}

            </div>
        </div>
    </div>
        
{% endblock %}
{% block javascripts %}

{{ parent() }}

<script src="{{ asset('admin/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js')}}"></script>

<script> 
$(function () {
   
    //color picker with addon
    $('.my-colorpicker2').colorpicker()

    $('.my-colorpicker2').on('colorpickerChange', function(event) {
      $('.my-colorpicker2 .fa-square').css('color', event.color.toString());
    })

   
  })
</script>
{% endblock %}